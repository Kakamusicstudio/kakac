<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kaka Studio </title>
    <style>
        /* --- DASAR CSS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { height: 100%; width: 100%; background-color: #0f0f0f; color: white; font-family: Roboto, Arial, sans-serif; overflow: hidden; }
        
        /* --- CONTAINER UTAMA --- */
        .app-container {
            max-width: 500px;
            height: 100%;
            margin: 0 auto;
            background-color: #000;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }

        /* --- OVERLAY START (PENTING UNTUK AUDIO) --- */
        .start-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.9);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .start-btn {
            background-color: #ff0000;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.4);
            transition: transform 0.2s;
        }
        .start-btn:active { transform: scale(0.95); }
        .overlay-text { margin-top: 15px; font-size: 0.9rem; color: #ccc; }

        /* --- HEADER --- */
        .shorts-header {
            height: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 20;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6), transparent);
            pointer-events: none;
        }
        .header-left { display: flex; align-items: center; gap: 5px; pointer-events: auto; }
        .header-title { font-weight: 800; font-size: 1.3rem; letter-spacing: -0.5px; }
        .header-right { pointer-events: auto; cursor: pointer; }

        /* --- SCROLL FEED --- */
        .shorts-feed { 
            flex: 1; 
            width: 100%; 
            overflow-y: scroll; 
            scroll-snap-type: y mandatory; 
            scrollbar-width: none; 
            position: relative;
        }
        .shorts-feed::-webkit-scrollbar { display: none; }
        
        .feed-item { 
            position: relative; 
            height: 100vh; 
            width: 100%; 
            scroll-snap-align: start; 
            background-color: #111; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            overflow: hidden; 
        }
        
        /* --- MEDIA --- */
        .media-content { width: 100%; height: 100%; object-fit: cover; z-index: 1; }

        /* --- UI LAYER --- */
        .ui-layer { position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 50%); display: flex; flex-direction: column; justify-content: flex-end; padding-bottom: 20px; }
        
        /* --- INFO AREA --- */
        .info-area { 
            width: 75%; 
            padding: 15px; 
            pointer-events: auto; 
            margin-bottom: 60px;
        }
        
        .channel-row { display: flex; align-items: center; margin-bottom: 10px; }
        .channel-name { font-weight: 700; font-size: 1rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.8); margin-right: 10px; }
        
        .btn-subscribe {
            background-color: #cc0000;
            color: white;
            border: none;
            padding: 6px 14px;
            border-radius: 18px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            text-transform: uppercase;
            transition: background 0.2s;
        }
        .btn-subscribe.subscribed {
            background-color: rgba(255,255,255,0.2);
            color: white;
        }
        
        .description { 
            font-size: 0.95rem; 
            margin-bottom: 8px; 
            line-height: 1.3; 
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8); 
            font-weight: 400;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .music-info { font-size: 0.85rem; display: flex; align-items: center; opacity: 0.8; margin-top: 5px;}
        .music-info svg { margin-right: 5px; width: 16px; height: 16px; fill: white; }

        /* --- SIDEBAR --- */
        .sidebar { 
            position: absolute; 
            right: 10px; 
            bottom: 100px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 20px; 
            z-index: 3; 
            pointer-events: auto; 
        }
        
        .action-btn { display: flex; flex-direction: column; align-items: center; cursor: pointer; transition: transform 0.1s; }
        .action-btn:active { transform: scale(0.9); }
        
        .action-icon { width: 35px; height: 35px; fill: white; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); margin-bottom: 5px; }
        .action-icon.liked { fill: #ff0000; animation: likeBounce 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        @keyframes likeBounce { 0% { transform: scale(1); } 50% { transform: scale(1.4); } 100% { transform: scale(1); } }
        .action-text { font-size: 0.75rem; font-weight: 500; text-shadow: 0 1px 2px rgba(0,0,0,0.8); }
        
        /* --- CHANNEL AVATAR BAWAH --- */
        .channel-avatar-container {
            position: absolute;
            bottom: 20px;
            right: 10px;
            width: 50px;
            height: 50px;
            z-index: 4;
            cursor: pointer;
            pointer-events: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .channel-avatar {
            width: 48px; 
            height: 48px; 
            border-radius: 50%; 
            border: 2px solid white; 
            background-size: cover; 
            background-position: center;
            position: relative;
            background-image: url('1.jpeg');
        }
        
        .avatar-plus {
            position: absolute; 
            bottom: -5px; 
            left: 50%; 
            transform: translateX(-50%); 
            background: #cc0000; 
            color: white; 
            border-radius: 50%; 
            width: 20px; 
            height: 20px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            font-size: 16px; 
            font-weight: bold; 
            border: 2px solid black;
            transition: transform 0.2s;
        }

        /* --- BOTTOM NAV --- */
        .bottom-nav {
            height: 50px;
            background: #0f0f0f;
            border-top: 1px solid #333;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 20;
        }
        .nav-icon { width: 24px; height: 24px; fill: white; opacity: 0.7; }
        .nav-icon.active { opacity: 1; fill: white; }
        .nav-text { color: white; font-size: 0.6rem; margin-top: 2px; text-align: center; }
        .nav-item { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; cursor: pointer; }
        
        .joget-text { display: inline-block; animation: bounceText 0.6s infinite alternate; }
        @keyframes bounceText {
            0% { transform: translateY(0) rotate(-2deg); }
            100% { transform: translateY(-8px) rotate(2deg); }
        }

        /* --- TAMBAHAN: ANIMASI KHUSUS FOTO AGAR BERGERAK --- */
        @keyframes gerakFoto {
            0% { transform: scale(1); }
            100% { transform: scale(1.15); }
        }
        
        /* Selector ini hanya memilih elemen <img> di dalam .feed-item, tidak mempengaruhi <video> */
        .feed-item img.media-content {
            animation: gerakFoto 10s infinite alternate ease-in-out;
        }
    </style>
</head>
<body>

    <div class="app-container">
        
        <!-- AUDIO PLAYER (Background Music - 1.mp3) -->
        <audio id="bg-music" src="Sampah.mp3" loop></audio>

        <!-- OVERLAY START (Wajib diklik untuk mengaktifkan audio) -->
        <div id="startOverlay" class="start-overlay">
            <button class="start-btn" onclick="startApp()">K@k@ Studio</button>
            <div class="overlay-text">Sampah Ibu Pertiwi</div>
        </div>

        <header class="shorts-header">
            <div class="header-left">
                <svg style="width:30px; height:30px;" viewBox="0 0 24 24" fill="white"><path d="M10 14.65v-5.3L15 12l-5 2.65zm7.77-4.33c-.77-.32-1.2-.5-1.2-.5L18 9.06c1.84-.96 2.53-3.23 1.56-5.06s-3.24-2.53-5.07-1.56L6 6.94c-1.29.68-2.07 2.04-2 3.49.07 1.42.93 2.67 2.22 3.25.03.01 1.2.5 1.2.5L6 14.93c-1.83.97-2.53 3.24-1.56 5.07.97 1.83 3.24 2.53 5.07 1.56l8.5-4.5c1.29-.68 2.06-2.04 1.99-3.49-.07-1.42-.94-2.68-2.23-3.25zM10 14.65v-5.3L15 12l-5 2.65z"/></svg>
                <span class="header-title">K@K@ Shorts</span>
            </div>
            <div class="header-right">
                <svg style="width:28px; height:28px; fill:white;" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
            </div>
        </header>

        <main class="shorts-feed" id="feedContainer">

            <!-- ======================= -->
            <!-- VIDEO-->
            <!-- ======================= -->

            <!-- VIDEO 1 -->
            <div class="feed-item">
                <!-- muted attribute ditambahkan agar video bisu -->
                <video class="media-content" loop playsinline muted poster="1.jpeg">
                    <source src="KK.mp4" type="video/mp4">
                </video>
                <div class="ui-layer">
                    <div class="info-area">
                        <div class="channel-row">
                            <span class="channel-name">K@K@_STUDIO</span>
                            <button class="btn-subscribe" onclick="toggleSubscribe(this)">Music Game</button>
                        </div>
                        <div class="description"><span class="joget-text">Judul Lagu 🔥</span></div>
                        <div class="music-info"><svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg><span>Sampah Ibu Pertiwi</span></div>
                    </div>
                    <div class="sidebar">
                        <div class="action-btn" onclick="toggleLike(this)"><svg class="action-icon" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg><span class="action-text">10.5K</span></div>
                        <div class="action-btn"><svg class="action-icon" viewBox="0 0 24 24"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg><span class="action-text">1.2K</span></div>
                        <div class="action-btn"><svg class="action-icon" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg><span class="action-text">Share</span></div>
                        <div class="action-btn"><svg class="action-icon" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg></div>
                    </div>
                    <div class="channel-avatar-container" onclick="toggleSubscribe(this.closest('.feed-item').querySelector('.btn-subscribe'))">
                        <div class="channel-avatar" style="background-image: url('1.jpeg');"></div><div class="avatar-plus">+</div>
                    </div>
                </div>
            </div>

            


            <!-- ======================= -->
            <!-- FOTO -->
            <!-- ======================= -->

            <!-- FOTO 1 -->
            <div class="feed-item"><img src="1.jpeg" class="media-content" alt="Foto 1"><div class="ui-layer"><div class="info-area"><div class="channel-row"><span class="channel-name">K@k@_Studio</span><button class="btn-subscribe" onclick="toggleSubscribe(this)">Subscribe</button></div><div class="description"><span class="joget-text">Judul Lagu </span></div><div class="music-info"><svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg><span>Sampah Ibu Pertiwi</span></div></div><div class="sidebar"><div class="action-btn" onclick="toggleLike(this)"><svg class="action-icon" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg><span class="action-text">5K</span></div><div class="action-btn"><svg class="action-icon" viewBox="0 0 24 24"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"/></svg><span class="action-text">200</span></div><div class="action-btn"><svg class="action-icon" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg><span class="action-text">Share</span></div><div class="action-btn"><svg class="action-icon" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg></div></div><div class="channel-avatar-container" onclick="toggleSubscribe(this.closest('.feed-item').querySelector('.btn-subscribe'))"><div class="channel-avatar" style="background-image: url('1.jpeg');"></div><div class="avatar-plus">+</div></div></div></div>

           <div style="height: 20px; width: 100%;"></div>
        </main>

        <nav class="bottom-nav">
            <div class="nav-item"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg><span class="nav-text">Home</span></div>
            <div class="nav-item"><svg class="nav-icon active" viewBox="0 0 24 24"><path d="M17.53 11.2c-.23-.3-.5-.56-.76-.82-.65-.6-1.4-1.03-2.03-1.66C13.3 7.26 13 5.64 13.03 4c-.48.26-.98.55-1.38.85-2.6 1.92-3.87 5.25-3.2 8.45.06.32.13.63.22.93-2.4-.09-4.55-.83-6.28-2.13-.6-.45-1.13-.97-1.57-1.55-.44-.58-.78-1.23-1.01-1.92-.02.03-.04.05-.05.08-.13.3-.23.62-.3.95-.38 1.8.05 3.6 1.03 5.05.16.24.34.46.53.66.93.95 2.17 1.45 3.53 1.45h.05c2.28 0 4.41-1.05 5.93-2.87 1.52-1.83 2.18-4.25 1.77-6.63-.04-.22-.09-.44-.15-.65.28.18.57.35.87.48 1.76.8 3.85.68 5.53-.33.3-.18.57-.4.82-.65l-2.5 1.32z"/></svg><span class="nav-text">Shorts</span></div>
            <div class="nav-item"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"/></svg><span class="nav-text">Subscriptions</span></div>
            <div class="nav-item"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span class="nav-text">You</span></div>
        </nav>

    </div>

    <script>
        let userInteracted = false;

        function startApp() {
            const overlay = document.getElementById('startOverlay');
            overlay.style.display = 'none';
            userInteracted = true;

            // 1. MAINKAN MP3 (1.mp3)
            const bgMusic = document.getElementById('bg-music');
            if(bgMusic) {
                bgMusic.play().then(() => {
                    console.log("MP3 Playing");
                }).catch(e => console.log("MP3 Error:", e));
            }

            // 2. MAINKAN VIDEO (TAPI TETAP DI MUTED / BISU)
            const firstVideo = document.querySelector('video');
            if(firstVideo) {
                firstVideo.muted = true; // Paksa muted
                firstVideo.play().then(() => {
                    console.log("Video Playing (Muted)");
                }).catch(e => console.log("Video Play Error:", e));
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            const feedItems = document.querySelectorAll('.feed-item');
            
            const observerOptions = {
                root: document.querySelector('.shorts-feed'),
                threshold: 0.6
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const video = entry.target.querySelector('video');

                    if (entry.isIntersecting) {
                        if (video) {
                            var playPromise = video.play();

                            if (playPromise !== undefined) {
                                playPromise.then(_ => {
                                    // PENTING: Video TETAP muted, tidak di-unmute
                                    video.muted = true; 
                                })
                                .catch(error => {
                                    video.muted = true;
                                    video.play();
                                });
                            }
                        }
                    } else {
                        if (video) {
                            video.pause();
                        }
                    }
                });
            }, observerOptions);

            feedItems.forEach(item => {
                observer.observe(item);
                const media = item.querySelector('video');
                if(media) {
                    // Jika video diklik, pause/play video visual saja
                    // Jangan matikan musik latar (1.mp3)
                    media.addEventListener('click', () => {
                        if (media.paused) {
                            media.muted = true; // Pastikan tetap bisu
                            media.play();
                            userInteracted = true; 
                        } else {
                            media.pause();
                        }
                    });
                }
            });
        });

        function toggleLike(element) {
            const icon = element.querySelector('.action-icon');
            if (icon.classList.contains('liked')) {
                icon.classList.remove('liked');
                icon.style.fill = "white";
            } else {
                icon.classList.add('liked');
                icon.style.fill = "#ff0000";
            }
        }

        function toggleSubscribe(btn) {
            if (btn.classList.contains('subscribed')) {
                btn.classList.remove('subscribed');
                btn.innerText = "Subscribe";
                btn.style.backgroundColor = "#cc0000";
            } else {
                btn.classList.add('subscribed');
                btn.innerText = "Subscribed";
                btn.style.backgroundColor = "rgba(255,255,255,0.2)";
            }
        }
    </script>
</body>
</html>